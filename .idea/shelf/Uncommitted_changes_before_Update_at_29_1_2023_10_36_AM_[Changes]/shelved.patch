Index: app/src/main/java/com/example/gas4u/CartActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.gas4u;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.gas4u.databinding.ActivityCartBinding;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Objects;\r\n\r\npublic class CartActivity extends DrawerBaseActivity {\r\n\r\n    private static final String userName = \"userName\";\r\n    private static final String userPhone = \"userPhone\";\r\n    private static final String userAddress = \"userAddress\";\r\n\r\n\r\n    FirebaseAuth fa = FirebaseAuth.getInstance();\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n    ActivityCartBinding activityCartBinding;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        activityCartBinding = ActivityCartBinding.inflate(getLayoutInflater());\r\n        setContentView(activityCartBinding.getRoot());\r\n        allocateActivityTitle(\"Carts\");\r\n\r\n    }\r\n\r\n    public void placeorder(View v){\r\n\r\n\r\n\r\n        final String[] fonts = {\r\n                \"Default Address\", \"New Address\"\r\n        };\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(CartActivity.this);\r\n        builder.setTitle(\"Please choose the address\");\r\n        builder.setItems(fonts, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n            if (\"Default Address\".equals(fonts[which])) {\r\n\r\n\r\n                FirebaseUser user = fa.getCurrentUser();\r\n                DocumentReference docRef = db.collection(\"Customers\").document(user.getUid());\r\n                docRef.get()\r\n                        .addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n                            @Override\r\n                            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                                if (documentSnapshot.exists()){\r\n                                    String name = documentSnapshot.getString(userName);\r\n                                    String phone = documentSnapshot.getString(userPhone);\r\n                                    String address = documentSnapshot.getString(userAddress);\r\n                                    String shipstatus = \"Ordered\";\r\n\r\n\r\n                                    String timestamp = \"\"+System.currentTimeMillis();\r\n                                    FirebaseUser user = fa.getCurrentUser();\r\n\r\n                                    //setup data to upload\r\n                                    HashMap<String, Object> hashMap = new HashMap<>();\r\n                                    hashMap.put(\"productId\", \"\"+timestamp);\r\n                                    hashMap.put(\"Receiver Name: \", name);\r\n                                    hashMap.put(\"Phone Number\", phone);\r\n                                    hashMap.put(\"Address\", address);\r\n                                    hashMap.put(\"Order Status\", shipstatus);\r\n                                    hashMap.put(\"timestamp\", timestamp);\r\n                                    hashMap.put(\"uid\", db.collection(\"Order\").document(user.getUid()));\r\n\r\n                                    //add to db\r\n                                    db.collection(\"Order\").document(user.getUid())\r\n                                            .set(hashMap).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                                                @Override\r\n                                                public void onComplete(@NonNull Task<Void> task) {\r\n                                                    if(task.isSuccessful()){\r\n                                                        //added to db\r\n                                                        Toast.makeText(CartActivity.this, \"Order placed...\", Toast.LENGTH_SHORT).show();\r\n                                                        //clearData();\r\n\r\n                                                        Intent intent2 = new Intent(getBaseContext(), CheckoutActivity.class);\r\n                                                        startActivity(intent2);\r\n\r\n                                                    }\r\n\r\n                                                }\r\n                                            })\r\n                                            .addOnFailureListener(new OnFailureListener() {\r\n                                                @Override\r\n                                                public void onFailure(@NonNull Exception e) {\r\n                                                    Toast.makeText(CartActivity.this, \"\"+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                                }\r\n                                            });\r\n\r\n\r\n                                } else {\r\n                                    Toast.makeText(CartActivity.this, \"ORDER PLACEMENT FAILED!\", Toast.LENGTH_SHORT).show();\r\n                                }\r\n\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Toast.makeText(CartActivity.this, \"error!\", Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n\r\n               // Toast.makeText(CartActivity.this, \"you nailed it\", Toast.LENGTH_SHORT).show();\r\n            } else if (\"New Address\".equals(fonts[which])) {\r\n\r\n                Intent intent2 = new Intent(getBaseContext(), PlaceOrderActivity.class);\r\n                startActivity(intent2);\r\n            }\r\n\r\n        }\r\n        });\r\n        builder.show();\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n//if (Objects.equals(role, user.getUid())){\r\n//\r\n//        if (Objects.equals(entr_stat, \"in\")){\r\n//\r\n//\r\n//            txtTesting.setText(\"GOOD NEWS!\");\r\n//            txtTesting2.setText(\"We are happy to say that MR/MRS\" + name + \" is available at the faculty.\");\r\n//\r\n//        } else {\r\n//\r\n//            txtTesting.setText(\"SAD NEWS!\");\r\n//            txtTesting2.setText(\"We are sadly to say that MR/MRS \" + name + \" is not available at the faculty.\");\r\n//        }\r\n//\r\n//    } else{\r\n//\r\n//        txtTesting.setText(\"SAD NEWS!\");\r\n//        txtTesting2.setText(\"We are sadly to say that MR/MRS \" + name + \" is not a lecturer\");\r\n//\r\n//    }\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/gas4u/CartActivity.java b/app/src/main/java/com/example/gas4u/CartActivity.java
--- a/app/src/main/java/com/example/gas4u/CartActivity.java	(revision 2c655fef901d6d333539298ec677bfaf2c2c74b5)
+++ b/app/src/main/java/com/example/gas4u/CartActivity.java	(date 1674922472362)
@@ -95,7 +95,6 @@
                                                 public void onComplete(@NonNull Task<Void> task) {
                                                     if(task.isSuccessful()){
                                                         //added to db
-                                                        Toast.makeText(CartActivity.this, "Order placed...", Toast.LENGTH_SHORT).show();
                                                         //clearData();
 
                                                         Intent intent2 = new Intent(getBaseContext(), CheckoutActivity.class);
